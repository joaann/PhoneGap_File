(function(){
	var module = angular.module('file-controllers', ['ngCordova']);
	module.controller('FileCtrl',['$scope', '$cordovaFile' ,function($scope, $cordovaFile){
	console.log('FileCtrl');
	$scope.output = '';
	var dataMbFile = ''; //path to 1mb testfile
		document.addEventListener('deviceready', function(){
			$scope.writeMegFile = function() {
			$cordovaFile.writeFile(cordova.file.dataDirectory, "test.txt", "Some test...", true).then(function(success){
			console.log("Wrote " + dataMbFile + " to test.txt");
			}, function(err){	
			});
			$scope.readMegFile = function(){ 
				$cordovaFile.readAsText(cordova.file.dataDirectory, "test.txt")
				.then(function (success) {
				console.log(success);
				$scope.output = success;
				}, function (error) {
				// error
				});
				};
			};
			console.log(cordova.file.dataDirectory);
		});
	}]);
	
})();